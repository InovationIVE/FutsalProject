<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>캐쉬 상점</title>
    <link rel="stylesheet" href="CashShopScene.css" />
    <!-- 공용 네비게이션 스타일시트 추가 -->
    <link rel="stylesheet" href="../../Shared/nav.css" />
  </head>
  <body>
    <!--상단 네비게이션-->
    <nav class="navbar">
      <div class="nav-left">
        <a href="../LobbyScene/LobbyScene.html" class="cashShopBtn">로비</a>
        <a href="../GachaScene/GachaScene.html" class="gachaBtn">가챠 뽑기</a>
        <a href="../OwnedScene/OwnedScene.html" class="MyPlayerBtn">My Player</a>
        <a href="../SquadScene/SquadScene.html" class="MysquadBtn">My 스쿼드</a>
      </div>
      <div class="nav-right">
        <!-- 이 부분은 nav.js에 의해 동적으로 채워집니다. -->
      </div>
    </nav>

    <!-- 상품 구매 영역 + 선물하기 영역 모두 container에 포함 -->
    <div class="container">
      <h1>캐시샵</h1>
      <div id="cash-item-list" style="margin-top: 20px; font-weight: 600"></div>

      <hr />

      <!--아이템 구매 영역-->
      <h2>아이템 구매</h2>
      <form id="purchase-item-form">
        <label for="goods-id">아이템 ID:</label>
        <input type="text" id="goods-id" name="goods-id" required />
        <button type="submit">구매</button>
      </form>

      <h2>결과</h2>
      <div id="cash-shop-result" style="font-weight: 600; min-height: 60px"></div>

      <hr />

      <!--선물하기 영역-->
      <div class="gift-section">
        <h2>선물하기</h2>
        <form id="gift-form" class="gift-form">
          <label for="receiver-id">받는 사람 Id:</label>
          <input type="text" id="receiver-id" name="receiver-id" required />

          <label for="gift-cash">선물금액:</label>
          <input type="number" id="gift-cash" name="gift-cash" min="1" required />

          <button type="submit">선물하기</button>
        </form>

        <div id="gift-result"></div>

        <h2>내가 받은 선물</h2>
        <div id="received-gifts">받은 선물이 없습니다.</div>
      </div>
    </div>

    <!-- 공용 모달 창들 추가 -->
    <!-- 비밀번호 변경 모달 -->
    <div id="change-password-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>비밀번호 변경</h2>
            <form id="change-password-form">
                <div class="input-group">
                    <label for="current-password">현재 비밀번호</label>
                    <input type="password" id="current-password" required />
                </div>
                <div class="input-group">
                    <label for="new-password">새 비밀번호</label>
                    <input type="password" id="new-password" required />
                </div>
                <div class="input-group">
                    <label for="confirm-password">새 비밀번호 확인</label>
                    <input type="password" id="confirm-password" required />
                </div>
                <button type="submit" class="btn">
                    <span class="btn-text">변경하기</span>
                    <div class="loader"></div>
                </button>
                <div id="change-password-message" class="modal-message"></div>
            </form>
        </div>
    </div>

    <!-- 회원 탈퇴 확인 모달 -->
    <div id="delete-account-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-delete-account">&times;</span>
            <h2>회원 탈퇴</h2>
            <p>정말로 탈퇴하시겠습니까? 이 작업은 되돌릴 수 없으며, 모든 데이터가 영구적으로 삭제됩니다.</p>
            <div class="modal-actions">
                <button id="cancel-delete-account" class="btn-secondary">취소</button>
                <button id="confirm-delete-account" class="btn-danger">탈퇴하기</button>
            </div>
        </div>
    </div>

    <script src="CashShopScript.js"></script>
    <script src="giftTransactionScript.js"></script>
    <!-- 공용 네비게이션 스크립트 추가 -->
    <script type="module" src="../../Shared/nav.js"></script>
  </body>
</html>
