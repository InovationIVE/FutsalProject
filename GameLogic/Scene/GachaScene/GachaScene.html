<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>선수 뽑기</title>
    <link rel="stylesheet" href="GachaScene.css" />
    <!-- 공용 네비게이션 스타일시트 추가 -->
    <link rel="stylesheet" href="../../Shared/nav.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-left">
        <a href="../CashShopScene/CashShopScene.html" class="cashShopBtn">캐쉬 상점</a>
        <a href="../LobbyScene/LobbyScene.html" class="cashShopBtn">로비</a>
        <a href="../GachaScene/GachaScene.html" class="gachaBtn">가챠 뽑기</a>
        <a href="../OwnedScene/OwnedScene.html" class="MyPlayerBtn">My Player</a>
        <a href="../SquadScene/SquadScene.html" class="MysquadBtn">My 스쿼드</a>
        <a href="../AuctionScene/AuctionScene.html" class="AuctionBtn">경매장</a>
      </div>
      <div class="nav-right">
        <!-- 이 부분은 nav.js에 의해 동적으로 채워집니다. -->
      </div>
    </nav>

    <div class="container">
      <h1>선수 카드팩 상점</h1>
      <div id="gacha-pack-list" class="pack-container">
        <!-- 카드팩 목록이 여기에 표시됩니다. -->
      </div>
      <hr />
      <h2>뽑은 선수 결과</h2>
      <div id="card-display-area" class="card-container">
        <!-- 뽑은 카드가 여기에 표시됩니다. -->
      </div>
      <h2>옵션</h2>
      <div id="gacha-option-list" class="gacha-opthins-container">
        <button id="gacha-create-btn" class="btn">가챠 생성</button>
        <button id="gacha-view-btn" class="btn">가챠 조회</button>
      </div>
      <h2>결과</h2>
      <div id="gacha-table-container" style="display: none">
        <table id="gacha-table">
          <thead>
            <tr>
              <th>No.</th>
              <th>Card Name</th>
              <th>Price</th>
              <th>Bronze</th>
              <th>Silver</th>
              <th>Gold</th>
              <th>Platinum</th>
              <th>Diamond</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- JS에서 데이터 추가 -->
          </tbody>
        </table>
      </div>
    </div>
    <div id="edit-gacha-modal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>가챠 카드 수정</h2>
        <form id="edit-gacha-form">
          <input type="hidden" id="edit-gacha-id" />
          <div>
            <label for="edit-cardName">카드 이름:</label>
            <input type="text" id="edit-cardName" required />
          </div>
          <div>
            <label for="edit-price">가격:</label>
            <input type="number" id="edit-price" required />
          </div>
          <div>
            <label for="edit-bronze">N 확률:</label>
            <input type="number" id="edit-bronze" required />
          </div>
          <div>
            <label for="edit-silver">R 확률:</label>
            <input type="number" id="edit-silver" required />
          </div>
          <div>
            <label for="edit-gold">SR 확률:</label>
            <input type="number" id="edit-gold" required />
          </div>
          <div>
            <label for="edit-platinum">SSR 확률:</label>
            <input type="number" id="edit-platinum" required />
          </div>
          <div>
            <label for="edit-diamond">UR 확률:</label>
            <input type="number" id="edit-diamond" required />
          </div>
          <button type="submit" id="edit-card">수정하기</button>
          <button type="submit" id="create-card">생성하기</button>
        </form>
      </div>
    </div>

    <!-- 공용 모달 창들 추가 -->
    <!-- 비밀번호 변경 모달 (초기 비표시: CSS로 제어) -->
    <div id="change-password-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>비밀번호 변경</h2>
            <form id="change-password-form">
                <div class="input-group">
                    <label for="current-password">현재 비밀번호</label>
                    <input type="password" id="current-password" required />
                </div>
                <div class="input-group">
                    <label for="new-password">새 비밀번호</label>
                    <input type="password" id="new-password" required />
                </div>
                <div class="input-group">
                    <label for="confirm-password">새 비밀번호 확인</label>
                    <input type="password" id="confirm-password" required />
                </div>
                <button type="submit" class="btn">
                    <span class="btn-text">변경하기</span>
                    <div class="loader"></div>
                </button>
                <div id="change-password-message" class="modal-message"></div>
            </form>
        </div>
    </div>

    <!-- 회원 탈퇴 확인 모달 (초기 비표시: CSS로 제어) -->
    <div id="delete-account-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-delete-account">&times;</span>
            <h2>회원 탈퇴</h2>
            <p>정말로 탈퇴하시겠습니까? 이 작업은 되돌릴 수 없으며, 모든 데이터가 영구적으로 삭제됩니다.</p>
            <div class="modal-actions">
                <button id="cancel-delete-account" class="btn-secondary">취소</button>
                <button id="confirm-delete-account" class="btn-danger">탈퇴하기</button>
            </div>
        </div>
    </div>

    <script src="GachaScript.js" type="module"></script>
    <!-- 공용 네비게이션 스크립트 추가 -->
    <script type="module" src="../../Shared/nav.js"></script>
  </body>
</html>
